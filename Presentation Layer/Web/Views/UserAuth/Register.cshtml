@model Web.Models.DTO.PatientDTO
@{
	Layout = null;
	ViewData["Title"] = "Crear Cuenta";
}
<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<title>SaludConnect - @ViewBag.Title</title>
	<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
	<style>
		body {
			font-family: 'Inter', sans-serif;
			overflow-x: hidden;
			line-height: 1.6;
			color: #334155;
			background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
		}

		.lucide-heart {
			transform: scale(1.4);
			transform-origin: center center;
		}

		.input-group {
			position: relative;
		}

		.input-icon-left {
			left: 12px;
			top: 50%;
			transform: translateY(-50%);
			pointer-events: none;
			color: #6c757d;
			z-index: 10;
		}

		.form-control {
			padding-left: 2.5rem !important;
			padding-right: 2.5rem !important;
		}

		.form-select {
			padding-left: 2.5rem !important;
		}

		.container-scroll {
			max-height: 90vh;
			overflow-y: auto;
			scrollbar-width: thin;
			scrollbar-color: #cbd5e1 #f1f5f9;
		}

			.container-scroll::-webkit-scrollbar {
				width: 8px;
			}

			.container-scroll::-webkit-scrollbar-track {
				background: #f1f5f9;
				border-radius: 10px;
			}

			.container-scroll::-webkit-scrollbar-thumb {
				background: #cbd5e1;
				border-radius: 10px;
			}

				.container-scroll::-webkit-scrollbar-thumb:hover {
					background: #94a3b8;
				}
	</style>
</head>
<body class="custom-gradient-bg">
	<div class="blur-circle circle-1"></div>
	<div class="blur-circle circle-2"></div>
	<div class="container d-flex align-items-center justify-content-center min-vh-100 py-5">
		<div class="w-100" style="max-width: 900px; position: relative; z-index: 10;">
			<div class="text-center mb-4">
				<div class="d-flex align-items-center justify-content-center mb-3">
					<div class="icon-circle me-3">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart">
							<path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path>
						</svg>
					</div>
					<h1 class="h2 fw-bold text-dark mb-0" style="letter-spacing: -0.5px;">SaludConnect</h1>
				</div>
				<h2 class="h4 fw-bold text-dark mb-2">Crear Cuenta</h2>
				<p class="text-muted fw-medium mb-0">Únete a nuestra plataforma de salud</p>
			</div>

			<div class="card shadow-lg border-0 bg-white bg-opacity-75 backdrop-blur rounded-4">
				<div class="card-body p-4 p-md-5">
					<form asp-action="Register" asp-controller="UserAuth" method="post">
						<div class="row g-4">
							<!-- Nombres -->
							<div class="col-md-4">
								<label for="firstName" class="form-label fw-semibold">Nombres</label>
								<div class="position-relative">
									<span class="input-icon-left position-absolute d-flex align-items-center">
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
											<circle cx="12" cy="7" r="4"></circle>
										</svg>
									</span>
									<input asp-for="FirstName" type="text" class="form-control" placeholder="Ej: Juan Carlos" required />
								</div>
								<span asp-validation-for="FirstName" class="text-danger small"></span>
							</div>

							<!-- Apellido Paterno -->
							<div class="col-md-4">
								<label for="lastNamePat" class="form-label fw-semibold">Apellido Paterno</label>
								<div class="position-relative">
									<span class="input-icon-left position-absolute d-flex align-items-center">
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
											<circle cx="9" cy="7" r="4"></circle>
											<path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
											<path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
										</svg>
									</span>
									<input asp-for="LastNamePat" type="text" class="form-control" placeholder="Ej: Pérez" required />
								</div>
								<span asp-validation-for="LastNamePat" class="text-danger small"></span>
							</div>

							<!-- Apellido Materno -->
							<div class="col-md-4">
								<label for="lastNameMat" class="form-label fw-semibold">Apellido Materno</label>
								<div class="position-relative">
									<span class="input-icon-left position-absolute d-flex align-items-center">
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
											<circle cx="9" cy="7" r="4"></circle>
											<path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
											<path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
										</svg>
									</span>
									<input asp-for="LastNameMat" type="text" class="form-control" placeholder="Ej: García" required />
								</div>
								<span asp-validation-for="LastNameMat" class="text-danger small"></span>
							</div>

							<!-- Documento -->
							<div class="col-md-6">
								<label for="document" class="form-label fw-semibold">DNI / Documento</label>
								<div class="position-relative">
									<span class="input-icon-left position-absolute d-flex align-items-center">
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<path d="M21 10H3"></path>
											<path d="M21 6H3"></path>
											<path d="M21 14H3"></path>
											<path d="M21 18H3"></path>
										</svg>
									</span>
									<input asp-for="Document" type="text" class="form-control" placeholder="Ej: 12345678" maxlength="8" required />
								</div>
								<span asp-validation-for="Document" class="text-danger small"></span>
							</div>

							<!-- Teléfono -->
							<div class="col-md-6">
								<label for="phone" class="form-label fw-semibold">Teléfono</label>
								<div class="position-relative">
									<span class="input-icon-left position-absolute d-flex align-items-center">
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
										</svg>
									</span>
									<input asp-for="Phone" type="tel" class="form-control" placeholder="Ej: 987654321" maxlength="9" required />
								</div>
								<span asp-validation-for="Phone" class="text-danger small"></span>
							</div>

							<!-- Email -->
							<div class="col-md-6">
								<label for="email" class="form-label fw-semibold">Correo Electrónico</label>
								<div class="position-relative">
									<span class="input-icon-left position-absolute d-flex align-items-center">
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<rect width="20" height="16" x="2" y="4" rx="2"></rect>
											<path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
										</svg>
									</span>
									<input asp-for="Email" type="email" class="form-control" placeholder="correo@ejemplo.com" required />
								</div>
								<span asp-validation-for="Email" class="text-danger small"></span>
							</div>

							<!-- Contraseña -->
							<div class="col-md-6">
								<label for="password" class="form-label fw-semibold">Contraseña</label>
								<div class="position-relative">
									<span class="input-icon-left position-absolute d-flex align-items-center">
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect>
											<path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
										</svg>
									</span>
									<input asp-for="Password" type="password" class="form-control pe-5" id="Clave" placeholder="Mínimo 6 caracteres" required />
									<button type="button" id="togglePassword" class="btn btn-sm position-absolute top-50 end-0 translate-middle-y me-2 p-0" style="background: transparent; border: none; z-index:10">
										<i class="bi bi-eye" style="font-size: 1.2rem; color: #6c757d;"></i>
									</button>
								</div>
								<span asp-validation-for="Password" class="text-danger small"></span>
							</div>

							<!-- Género -->
							<div class="col-md-6">
								<label for="gender" class="form-label fw-semibold">Género</label>
								<div class="position-relative">
									<span class="input-icon-left position-absolute d-flex align-items-center">
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<circle cx="12" cy="12" r="10"></circle>
											<path d="M12 6v12"></path>
											<path d="M17.196 9 6.804 15"></path>
											<path d="m6.804 9 10.392 6"></path>
										</svg>
									</span>
									<select asp-for="Gender" class="form-select" required>
										<option value="">Seleccione...</option>
										<option value="M">Masculino</option>
										<option value="F">Femenino</option>
									</select>
								</div>
								<span asp-validation-for="Gender" class="text-danger small"></span>
							</div>

							<!-- Fecha de Nacimiento -->
							<div class="col-md-6">
								<label for="birthDate" class="form-label fw-semibold">Fecha de Nacimiento</label>
								<div class="position-relative">
									<span class="input-icon-left position-absolute d-flex align-items-center">
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
											<path d="M16 2v4"></path>
											<path d="M8 2v4"></path>
											<path d="M3 10h18"></path>
										</svg>
									</span>
									<input asp-for="BirthDate" type="date" class="form-control" style="padding-right:5px !important;" required />
								</div>
								<span asp-validation-for="BirthDate" class="text-danger small"></span>
							</div>
						</div>

						<!-- Botón de Registro -->
						<div class="mt-4">
							<button type="submit" class="btn btn-primary-custom w-100 py-2 bg-gradient">
								Crear Cuenta
							</button>
						</div>

						<!-- Link a Login -->
						<div class="text-center mt-3">
							<p class="text-muted small mb-0">
								¿Ya tienes cuenta?
								<a asp-action="Login" asp-controller="UserAuth" class="text-primary fw-semibold text-decoration-none">
									Iniciar Sesión
								</a>
							</p>
						</div>
					</form>
				</div>
			</div>

			<div class="text-center mt-4 mb-3">
				<p class="text-muted small">Gestión segura de citas médicas</p>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		const togglePassword = document.getElementById('togglePassword');
		const passwordInput = document.getElementById('Clave');

		togglePassword.addEventListener('click', function () {
			const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
			passwordInput.setAttribute('type', type);
			const icon = this.querySelector('i');
			icon.classList.toggle('bi-eye');
			icon.classList.toggle('bi-eye-slash');
		});

		// Validación de solo números para DNI
		document.querySelector('input[name="Document"]').addEventListener('input', function (e) {
			this.value = this.value.replace(/[^0-9]/g, '');
		});

		// Validación de solo números para teléfono
		document.querySelector('input[name="Phone"]').addEventListener('input', function (e) {
			this.value = this.value.replace(/[^0-9]/g, '');
		});
	</script>
	@Html.Partial("_SweetAlert")
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</body>
</html>